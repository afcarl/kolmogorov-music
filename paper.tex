% Based on the template for sigplanconf LaTeX Class by Paul C. Anagnostopoulos (paul@windfall.com)
\documentclass[numbers]{sigplanconf}

\usepackage{amsmath}
\usepackage{hyperref}

\newcommand{\cL}{{\cal L}}

\begin{document}

\special{papersize=8.5in,11in}
\setlength{\pdfpageheight}{\paperheight}
\setlength{\pdfpagewidth}{\paperwidth}

\conferenceinfo{FARM 2016}{September 24, 2016, Nara, Japan}
\copyrightyear{2016}
%\copyrightdata{978-1-nnnn-nnnn-n/yy/mm}
%\copyrightdoi{nnnnnnn.nnnnnnn}

\title{Algomusicology, ?, Profit}
%\subtitle{Subtitle Text, if any}

\authorinfo{Chris Ford}
           {ThoughtWorks}
           {christophertford@gmail.com}

\maketitle

\begin{abstract}
In this paper I propose a novel method for converting algomusicology into profit. While my particular example
is tongue-in-cheek, it shows that algorithmic composition and analysis can help us deconstruct and disrupt
traditional notions of musical authorship.
\end{abstract}

%\category{CR-number}{subcategory}{third-level}

%\keywords
%keyword1, keyword2

\section{Introduction}

The Underpants Gnomes are renowned for their business plan:
\begin{itemize}
    \item Collect underpants
    \item ?
    \item Profit
\end{itemize}

Art critics, literary critics, algomusicologists and Twitter have a challenge in common with the Underpants Gnomes - we may have
collected a considerable quantity of underpants/art/users, but how are we to turn that into profit? Less glibly, is algomusicology
doomed to be a mere observer and explainer of musical practice, or might it become an active participant? Computer science is
able to influence industry, though that might take longer than we'd like \footnote{Alonzo Church developed the
lambda calculus in the 1930s. Java gained lambda expressions in 2015.}. Can algomusicology influence music?\footnote{This paper
appears to be the first reference to algomusicology. I believe the term, which is a portmanteau of algorave and musicology,
has a self-evident definition.}

This paper will argue that it can. It will do so by citing examples of existing art works that are algorithmic in nature, and
also by using algomusicological concepts to create a work that challenges our present conception of musical authorship and
copyright.

The examples in this paper are all written in Clojure, dialect of Lisp. I also rely on Leipzig, a music theory library written
in Clojure and Midje, a unit testing library, for its fact notation.

\section{Air on the {\textbackslash}G String}
Very great quantities of data can exhibit very little complexity. Consider the following Clojure expression, which
evaluates to a sequence of $10^{15}$ uppercase G characters:

\begin{verbatim}
(repeat (* 1000 1000 1000 1000 1000) \G)
\end{verbatim}

Though storing such a string would require roughly a petabyte of memory, representing it indirectly as a computation
takes very little space at all. To put it in perspective, that's roughly the size all music ever recorded to date,
described in less than a half a tweet\footnote{Based on the iTunes library featuring approximately 50 million songs
of approximately 4 megabytes each, and assuming it represents approximately a fifth of all recorded music. Tweets are
restricted to 140 characters.}.

We can use Clojure's macro facility to build a crude framework for comparing the size of descriptions and their
resulting values. The following two definitions are identical, save that description-length is a macro and therefore
operates on the unevaluated s-expression passed to it as an argument.

\begin{verbatim}
(defn result-length [expression]
  (-> expression print-str count))

(defmacro description-length [expression]
  (-> expression print-str count))

(fact
  (result-length (repeat 65 \G)) => 131
  (description-length (repeat 65 \G)) => 13)
\end{verbatim}

The explanatory power of a description can be measured by comparing the length of the textual description and the length
of the resulting value. Explanatory power is the reciprocal of the compression ratio, where representing a value by an
expression is viewed as a compression strategy.

If there is no way to describe a value more concisely than the value itself, we say that it is random. An explanatory
power of one or less is no explanation at all.

\begin{verbatim}
(defmacro explanatory-power [expression]
  `(/ (result-length ~expression)
      (description-length ~expression)))

(fact
  (explanatory-power (repeat 65 \G)) => 131/13)
\end{verbatim}

\section{Analysis by compression}

David Meredith has used Kolmogorov complexity to compare the quality of musical analyses. The theory goes that the
more concise the algorithmic description of a piece, the better the musical model.

Using this idea, we can show that composing "Row, row, row your boat" out of sequences of durations and pitches
is a better description of the piece than the raw notes.

\begin{verbatim}
(def row-row
  "A simple melody built from durations and pitches."
              ; Row, row, row  your boat,
  (->> (phrase [3/3  3/3  2/3  1/3  3/3]
               [  0    0    0    1    2])
       (then
                ; Gent-ly   down the  stream,
         (phrase [2/3  1/3  2/3  1/3  6/3]
                 [  2    1    2    3    4]))
       (then    ; Merrily, merrily, merrily, merrily,
         (phrase (repeat 12 1/3)
                 (mapcat (partial repeat 3) [7 4 2 0])))
       (then
                ; Life is   but  a    dream!
         (phrase [2/3  1/3  2/3  1/3  6/3]
                 [  4    3    2    1    0]))
       (canon/canon (canon/simple 4))
       (where :pitch (comp scale/A scale/major))))
\end{verbatim}

Using a little more macro magic, we can calculate the ratio between the above description and the literal notes
of the song. The definitional macro allows us to use the symbol row-row in our fact notation, rather than having to
paste in the entire expression.

\begin{verbatim}
(defmacro definitional [macro sym]
  (let [value (-> sym repl/source-fn read-string last)]
    `(~macro ~value)))

(fact
  (definitional description-length row-row) => 281
  (definitional result-length row-row) => 2037
  (definitional explanatory-power row-row) => 2037/281)
\end{verbatim}

\section{The Library of Babel}

The Kleene star is the set of all possible substrings built from a set of elements.

\begin{verbatim}
(defn kleene* [elements]
  (letfn [(expand [strings]
            (for [s strings e elements] (conj s e)))]
    (->>
      (lazy-seq (kleene* elements))
      expand
      (cons []))))
\end{verbatim}

We can use the Kleene star with an alphabet of the ASCII alphabet to construct all possible ASCII strings as a lazy
sequence. This results in something very similar to the Library of Babel as imagined by Jorge Luis Borges. In this
vast building of library, are all possible books of four hundred and ten pages in length.

The difference is that our sequence has all possible strings of all finite lengths.

\begin{verbatim}
(defn library-of-babel []
  (let [ascii (->> (range 32 127) (map char))]
    (->> ascii
       kleene*
       (map (partial apply str)))))

(fact
  (->> (library-of-babel) (take 3)) => ["" " " "!"]
  (nth (library-of-babel) 364645) => "GEB")
\end{verbatim}

Lexicon's are interesting from a Kolmogorov complexity perspective, because they can be described concisely yet contain
multitudes. Paradoxically, lexicons display the property that the whole is simpler than (almost all of) the parts. That is,
the Kolmogorov complexity of all strings in our Library of Babel beyond a certain size are more complicated to describe
than the Library as a whole.

Borges appreciated this paradox. His anonymous narrator reports that on "some shelf in some hexagon (men reasoned)
there must exist a book which is the formula and perfect compendium of all the rest"?????. Any of the many books that contain
our library-of-babel function match the narrator's description, though the books that also contain the rest of this paper
must surely provide more helpful context.

\section{Contact}

In Carl Sagan's novel 'Contact', he imagines that a message to humanity is encoded in the digits of pi. If we design an
appropriate encoding scheme, we could do a similar thing and treat the digits of pi as music. However, we would encounter
a similar problem to Borges' librarians - we suspect that every sequence of data we could possibly want is in there
somewhere, but we don't know where to look.

Fortunately, there are other transcendental numbers that are more predictable. The Champernowne word is a constant whose
decimal expansion is the concatenation of the digits of the natural numbers.

\begin{verbatim}
(defn decompose-into-digits [n]
  (let [[remainder quotient] ((juxt mod quot) n 10)]
    (if (zero? quotient)
      [remainder]
      (conj (decompose-into-digits quotient) remainder))))

(defn champernowne-word
  ([from]
   (->> (range)
        (map (partial + from))
        (mapcat decompose-into-digits)))
  ([]
   (champernowne-word 0)))

(fact
  (->> (champernowne-word) (take 16))
    => [0 1 2 3 4 5 6 7 8 9 1 0 1 1 1 2])
\end{verbatim}

\section{Anti}

\section{Blurred Lines}

'Blurred Lines' is a pop song that was written by Pharrell Williams and Robin Thicke. In March 2015,
they were found to have infringed on the copyright of the Marvin Gaye song 'Got to Give It Up'.
\begin{verbatim}
(defn copyright-infringement-song
  ([skip-to]
   (->>
     (champernowne-word skip-to)
     (coding/decode 3)
     (where :time (bpm 120))
     (where :duration (bpm 120))))
   ([] (copyright-infringement-song 0)))

(def blurred-lines 12450012001200311273127612731276127312761273127612731276127312761245001200121245001200120031127312761273127612731276127312761273127612731276124500120012124500120012003112731276127312761273127612731276127312761273127612450012001212450012001200311273127612731276127312761273127612731276127312761245001200121240001200120031126812711268127112681271126812711268127112681271124000120012124000120012003112681271126812711268127112681271126812711268127112400012001212400012001200311268127112681271126812711268127112681271126812711240001200121252004100411264125012621249126112471245)
\end{verbatim}

\section{Conclusion}

\bibliographystyle{plainnat}

% The bibliography should be embedded for final submission.

\begin{thebibliography}{}
\softraggedright

\bibitem{Overtone} Aaron, Sam and Rose, Jeff: Overtone (\url{http://overtone.github.io})
\bibitem{Anti EP} Autechre: Anti EP (\url{https://en.wikipedia.org/wiki/Anti_EP})

\end{thebibliography}

\end{document}
